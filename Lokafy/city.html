<!DOCTYPE html>
<!-- saved from url=(0024)https://lokafy.com/city/ -->
<html class="no-js" lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>

	<!-- Basic Page Needs
================================================== -->
	<meta charset="utf-8">
	<!-- Mobile Specific Metas
================================================== -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://lokafy.com/static/css/tourtype.css">
	<link rel="stylesheet" href="https://lokafy.com/static/css/city-selection.css">
	<link rel="stylesheet" href="https://lokafy.com/static/css/layout.css">
	<script type="text/javascript" src="./city_files/jquery-2.1.4.min.js"></script>
	<script src="./city_files/angular.min.js"></script>
	<script src="./city_files/bootstrap.js"></script>
	<script>
		angular.module('ContactApp', [])
		.controller('ContactController', ['$scope', '$http', function($scope, $http) {
			$scope.missingFields = false;
			$scope.invalidEmail = false;
			$scope.submitFailure = false;
			$scope.submitSuccess = false;
			$scope.contactForm = {};
			console.log("success");
			$scope.submitForm = function() {
				$scope.missingFields = false;
				$scope.invalidEmail = false;
				$scope.submitFailure = false;
				$scope.submitSuccess = false;
				if ($scope.contactForm.name == undefined || $scope.contactForm.email == undefined || $scope.contactForm.message == undefined) {
				 	$scope.missingFields = true;
				 	return;
				}
				var emailRegex = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
				var validEmail = emailRegex.test($scope.contactForm.email);
				if (!validEmail){
					$scope.invalidEmail = true;
					return;
				}	
				$http.post('../api/contact', $scope.contactForm).
					then(function(data){
						if (data['data']['status'] == 'success') {
							$('#contact-success').modal('show');
							$('#contact-modal').modal('hide');
							$scope.submitSuccess = true;
							$scope.submitFailure = false;
						} else {
							$scope.submitSuccess = false;
							$scope.submitFailure = true;
						}
					}).catch(function(err){
						$scope.submitSuccess = false;
						$scope.submitFailure = true;
					});
			}
		}]);
	</script>
</head>

<body ng-app="ContactApp" ng-controller="ContactController" class="ng-scope">
	<div class="page-header">
		<a href="http://lokafy.com/">
			<div class="logo-blue"></div>
		</a>
		<a class="help" href="https://lokafy.com/faqs">Help</a>
	</div>


	<!--City Selection Modal
		<div class="city-modal modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
	-->
	<div class="city" style="height:auto;">
		<div class="city-header">
			<h1 class="modal-title">Where do you want to travel?</h1>
		</div>
		<div class="city-body">
			<div class="city-card" id="toronto" onclick="location.href = &#39;toronto&#39;;">
				<div class="city-name">
					<h1>Toronto</h1>
				</div>
			</div>
			<div class="city-card" id="paris" onclick="location.href = &#39;paris&#39;;">
				<div class="city-name">
					<h1>Paris</h1>
				</div>
			</div>
			<div class="city-card coming" id="newyork">
				<div class="city-name">
					<h1>New York</h1>
					<i><h2>Coming soon</h2></i>
				</div>	
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-lg-4 col-md-4 col-sm-5 col-xs-10" id="subscription">
	<!-- 		<div class="input-group">
				<input type="text" class="form-control" placeholder="user@example.com">
				<span class="input-group-btn">
					<button class="btn btn-primary">Subscribe</button>
				</span>
			</div>
			<p>Subscribe and receive news of our new city opening in the first time. No spam.</p> -->
			<a href="https://lokafy.com/city/#" target="_blank" data-toggle="modal" data-target="#contact-modal">Or let us know where you want to meet locals!</a>
		</div>
	</div>
					
		<!--			
				</div>
			</div>
		</div>-->
<!-- Modal -->
  <div class="modal fade" id="contact-modal" role="dialog">
    <div class="modal-dialog">  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" style="margin-top:-9px;">×</button>
        </div>
        <div class="modal-body">
			<div class="contact_form">
				<form name="ajax-form" id="ajax-form" class="ng-pristine ng-valid">
				    <p>
				      <label for="name">Name: * 
				        <span class="error" id="err-name">please enter name</span>
				        <br>
				      </label>

				      <input name="name" id="name" type="text" ng-model="contactForm.name" class="ng-pristine ng-untouched ng-valid"><br><br>

				      <label for="email">
				        E-Mail: * 
				        <span class="error" id="err-email">please enter e-mail</span>
				        <span class="error" id="err-emailvld">e-mail is not a valid format</span><br>
				      </label>
				      <input name="email" id="email" type="text" ng-model="contactForm.email" class="ng-pristine ng-untouched ng-valid">
				      <br><br>
				      <label for="phone">Contact Number: 
				        <span class="error" id="err-phone">please enter phone number</span>
				        <br>
				      </label>

				      <input name="phone" id="phone" type="text" ng-model="contactForm.phone" class="ng-pristine ng-untouched ng-valid">
				      </p>

				    <p>
				      <label for="message">Message:</label>
				      <textarea name="message" id="message" ng-model="contactForm.message" class="ng-pristine ng-untouched ng-valid"></textarea>
				      
				    </p><div class="myButton"><p style="text-align:center" ng-show="missingFields" class="ng-hide">Please fill in all required fields.</p><p style="text-align:center" ng-show="invalidEmail" class="ng-hide">Please enter a valid email.</p><p style="text-align:center" ng-show="submitFailure" class="ng-hide">There was an unexpected error on the server.</p><br><button ng-click="submitForm()">Submit</button><input type="submit" name="" value="SEND" id="send" style="display:none;"></div>


					<div class="mainerror">
						<div class="error" id="err-form">There was a problem validating the form please check!</div>
						    <div class="error" id="err-timedout">The connection to the server timed out!</div>
						    <div class="error" id="err-state"></div>
					</div>
				</form>
				<div id="ajaxsuccess"><h2>Your message was succesfully sent.</h2></div>
			</div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="contact-success" role="dialog">
    <div class="modal-dialog">  
      <!-- Modal content-->
      <div class="modal-content">
          <button type="button" class="close" data-dismiss="modal" style="    text-align: right; padding: 2px 7px; 0 0">×</button>
        	<p style="text-align:center; font-size: 16px;">Your message has been received, we will get back to you shortly.</p>
        </div>
      </div>
    </div>
  
	



	</body></html>